(this["webpackJsonpfa12-dapp-workshop"]=this["webpackJsonpfa12-dapp-workshop"]||[]).push([[0],{175:function(e,t){},291:function(e,t){},293:function(e,t){},304:function(e,t){},306:function(e,t){},332:function(e,t){},334:function(e,t){},335:function(e,t){},340:function(e,t){},342:function(e,t){},361:function(e,t){},373:function(e,t){},376:function(e,t){},400:function(e,t){},402:function(e,t){},463:function(e,t,c){},464:function(e,t,c){},465:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(503),r=c(1),s=c(260),i=c.n(s),l=c(504),o=c(272),j=c(493),d=c(502),b=c(511),u=c(84),h=c(507),O=c(477),x=c(171),m=function(e){var t=Object(h.b)().toggleColorMode,c=Object(h.c)("dark","light"),a=Object(h.c)(x.a,x.b);return Object(n.jsx)(O.a,Object(u.a)({size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(n.jsx)(a,{}),"aria-label":"Switch to ".concat(c," mode")},e))},f=c(10),v=c(494),g=c(500),p=c(274),w=c(501),N=c(0),k=c.n(N),y=c(34),B=(c(4),c(6),c(129)),P=c(127),C=c(76),S="https://hangzhounet.api.tez.ie/",T=new P.a(S),z=new B.a({name:"Plenty Bonds Marketplace: Falcon Heavy"});function F(){var e=Object(r.useState)(),t=Object(f.a)(e,2),c=t[0],n=t[1];return{connect:Object(r.useCallback)(Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.requestPermissions({scopes:[C.r.OPERATION_REQUEST,C.r.SIGN,C.r.THRESHOLD]});case 2:return e.next=4,z.getPKH();case 4:t=e.sent,n(t);case 6:case"end":return e.stop()}}),e)}))),[]),disconnect:Object(r.useCallback)(Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.client.removeAllAccounts();case 2:case"end":return e.stop()}}),e)}))),[]),pkh:c,Tezos:T}}T.setWalletProvider(z);var U=c(495),A=c(496),E=c(497),I=c(508),L=function(e){return Object(n.jsxs)(j.a,{w:"full",children:[Object(n.jsx)(v.a,{size:"sm",align:"left",marginBottom:"2",children:"Contract address:"}),Object(n.jsxs)(U.a,{children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(E.a,Object(u.a)({},e))]})]})},H=c(499),W=function(e,t){var c=Object(r.useState)(),n=Object(f.a)(c,2),a=n[0],s=n[1],i=Object(r.useState)(),l=Object(f.a)(i,2),o=l[0],j=l[1],d=Object(r.useState)(),b=Object(f.a)(d,2),u=b[0],h=b[1];return Object(r.useEffect)((function(){var c=!1;return Object(y.a)(k.a.mark((function n(){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),j(void 0),n.next=5,e();case 5:a=n.sent,!c&&h(t?t(a):a),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),!c&&j("Something went wrong while fetching storage: "+n.t0.toString());case 12:return n.prev=12,!c&&s(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})))(),function(){c=!0}}),[e,t]),{fetching:a,error:o,data:u}},K=c(510),M=function(e){return Object(n.jsx)(K.a,Object(u.a)({thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl",alignSelf:"center"},e))},Q=function(e){var t=e.contractAddress,c=F().Tezos,a=Object(r.useCallback)(Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.contract.at(t);case 2:return e.abrupt("return",e.sent.storage());case 3:case"end":return e.stop()}}),e)}))),[c.contract,t]),s=W(a,JSON.stringify),i=s.fetching,l=s.data,o=s.error;return i||!l&&!o?Object(n.jsx)(M,{}):Object(n.jsxs)(j.a,{w:"full",children:[Object(n.jsx)(v.a,{size:"sm",align:"left",marginBottom:"2",children:"Contract storage:"}),Object(n.jsx)(H.a,{readOnly:!0,defaultValue:o||l,isInvalid:!!o})]})},q=c(27),D=function(e){return function(e){return 3===Object(q.g)(e)}(e)&&e.startsWith("KT1")},R=function(e){var t=e.contractAddress,c=e.pkh,a=F().Tezos,s=Object(r.useCallback)(Object(y.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.contract.at(t);case 2:return n=e.sent,e.abrupt("return",n.views.getBalance(c).read().catch((function(){return 0})));case 4:case"end":return e.stop()}}),e)}))),[t,c,a.contract]),i=W(s),l=i.fetching,o=i.data,d=i.error;return l||!o&&!d?Object(n.jsx)(M,{}):Object(n.jsxs)(j.a,{w:"full",children:[Object(n.jsx)(v.a,{size:"sm",align:"left",marginBottom:"2",children:"Balance for your account:"}),Object(n.jsx)(H.a,{readOnly:!0,defaultValue:d||o,isInvalid:!!d})]})},Y=function(e){var t=e.contractAddress,c=e.pkh,a=F().Tezos,s=Object(r.useState)("10"),i=Object(f.a)(s,2),l=i[0],o=i[1],d=Object(r.useState)(""),b=Object(f.a)(d,2),u=b[0],h=b[1],O=Object(r.useState)(!1),x=Object(f.a)(O,2),m=x[0],g=x[1],w=Object(r.useCallback)(Object(y.a)(k.a.mark((function e(){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,a.wallet.at(t);case 4:return n=e.sent,e.next=7,n.methods.transfer(c,u,Number(l)).send();case 7:return r=e.sent,e.next=10,r.confirmation(1);case 10:alert("One confirmation has been received from the network!"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:return e.prev=16,g(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])}))),[t,c,l,u,g,a.wallet]);return Object(n.jsxs)(j.a,{w:"full",children:[Object(n.jsx)(v.a,{size:"sm",align:"left",marginBottom:"2",children:"Transfer:"}),m?Object(n.jsx)(M,{mx:"auto",d:"block"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(E.a,{placeholder:"tz1QLY8gCFzrezkqkQpHAHBRPvgtV9Z1KuML",value:u,onChange:function(e){return h(e.target.value)},marginBottom:"4"}),Object(n.jsxs)(U.a,{children:[Object(n.jsx)(A.b,{width:"7rem",children:Object(n.jsx)(p.a,{size:"sm",onClick:w,children:"Transfer"})}),Object(n.jsx)(E.a,{type:"number",onChange:function(e){return o(e.target.value)},value:l})]})]})]})},V=function(e){var t=e.pkh;return Object(n.jsxs)(v.a,{children:["Your account: ",Object(n.jsx)(g.a,{children:t})]})};function J(){var e=F(),t=e.connect,c=e.pkh,a=e.disconnect,s=Object(r.useState)("KT19psPK1PZNMkaq8TuU1D77u7ipyFVQ3BmE"),i=Object(f.a)(s,2),l=i[0],o=i[1],j=Object(r.useState)(!1),d=Object(f.a)(j,2),b=d[0],u=d[1];return Object(r.useEffect)((function(){u(D(l))}),[l]),Object(n.jsx)("div",{className:"text-center",children:c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.a,{className:"btn btn-primary submit-btn",variant:"outline",onClick:a,children:"Disconnect wallet"}),Object(n.jsx)(V,{pkh:c}),Object(n.jsx)(w.a,{}),Object(n.jsx)(L,{value:l,onChange:function(e){return o(e.target.value)},isInvalid:!b}),b&&l&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Q,{contractAddress:l}),Object(n.jsx)(R,{contractAddress:l,pkh:c}),Object(n.jsx)(Y,{contractAddress:l,pkh:c})]})]}):Object(n.jsx)(p.a,{className:"btn btn-primary submit-btn",onClick:t,children:"Connect wallet"})})}c(463);var X={name:"Plenty Bonds Marketplace: Falcon Heavy",network:{type:"hangzhounet"}};function Z(){var e=function(){var e;return{buyBond:Object(r.useCallback)(Object(y.a)(k.a.mark((function t(){var c,n,a,r,s,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=1,n="KT1GgNMoJhfeWUoqh1RJaFXE1H66tja7L1eU",a=1e3,r=.5,s=new P.a(S),i=new B.a(X),t.next=8,i.client.getActiveAccount();case 8:t.sent,t.next=14;break;case 14:return t.next=16,i.requestPermissions(X);case 16:return t.next=18,i.getPKH();case 18:e=t.sent,console.log("New connection:",e);case 20:s.setWalletProvider(i),s.wallet.at("KT1V9gTAvhuXgb7egVjn6BtCfU4BMtjfvWfR").then((function(t){return t.methods.order(c,a,n,r).send({from:e})}));case 22:case"end":return t.stop()}}),t)}))),[])}}().buyBond;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"content",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)("div",{className:"crypto-exchange buy-form",children:Object(n.jsxs)("div",{className:"",children:[Object(n.jsx)("div",{className:"card-title text-center",children:Object(n.jsx)("h4",{className:"text-primary",children:"Bond: PLENTY-QUIPU LP"})}),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-lg-6 text-center card-title",children:[Object(n.jsx)("h4",{className:"text-primary",children:"Bond Price"}),Object(n.jsx)("h2",{className:"text-primary",children:"$3.03"})]}),Object(n.jsxs)("div",{className:"col-lg-6 text-center card-title",children:[Object(n.jsx)("h4",{className:"text-primary",children:"Market Price"}),Object(n.jsx)("h2",{className:"text-primary",children:"$3.01"})]})]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 ",children:Object(n.jsx)("div",{className:"exchange-form",children:Object(n.jsx)("form",{children:Object(n.jsx)("div",{className:"form-row ",children:Object(n.jsx)("div",{className:"col-lg-6 col-md-12 offset-lg-3",children:Object(n.jsx)(p.a,{className:"btn btn-primary btn-lg btn-block",onClick:e,children:"Buy"})})})})})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-lg-12 details-contatiner",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6 ",children:"Your Balance"}),Object(n.jsxs)("div",{className:"col-lg-6 text-right",children:["0 PLENTY-QUIPU LP",Object(n.jsx)("div",{children:Object(n.jsx)("a",{href:"https://www.plentydefi.com/liquidity?tokenB=QUIPU",target:"_blank",className:"gray-link",children:"Buy PLENTY-QUIPU LP token"})})]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6 ",children:"Duration"}),Object(n.jsx)("div",{className:"col-lg-6 text-right",children:"5 days"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6 ",children:"ROI"}),Object(n.jsx)("div",{className:"col-lg-6 text-right",children:"3%"})]})]})})]})})})})})})}var $=c(132),G=c(14);c(464);function _(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)($.a,{children:[Object(n.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css",integrity:"sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"}),Object(n.jsxs)("div",{className:"main-wrapper",children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("div",{className:"header-left",children:Object(n.jsxs)("a",{href:"index.html",className:"logo",children:[Object(n.jsx)("img",{src:"assets/img/logo.png",width:35,height:35,alt:""})," ",Object(n.jsx)("span",{children:"Falcon Heavy"})]})})}),Object(n.jsx)("div",{className:"sidebar",id:"sidebar",children:Object(n.jsx)("div",{className:"sidebar-inner slimscroll",children:Object(n.jsx)("div",{id:"sidebar-menu",className:"sidebar-menu",children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)($.b,{to:"/",children:"Dashboard"})}),Object(n.jsx)("li",{children:Object(n.jsx)($.b,{to:"/buy-bond",children:"Buy bond"})})]})})})}),Object(n.jsx)("div",{className:"page-wrapper exchange-wrapper bg-wrapper",children:Object(n.jsx)("div",{className:"content",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsxs)(G.c,{children:[Object(n.jsx)(G.a,{path:"/buy-bond",element:Object(n.jsx)(Z,{})}),Object(n.jsx)(G.a,{path:"/users",children:Object(n.jsx)(n.Fragment,{children:"users"})}),Object(n.jsx)(G.a,{path:"/",element:Object(n.jsx)(J,{})})]})})})})})]})]})})}var ee=function(){return Object(n.jsx)(l.a,{theme:o.b,children:Object(n.jsx)(j.a,{fontSize:"xl",children:Object(n.jsxs)(d.a,{minH:"100vh",p:3,children:[Object(n.jsx)(m,{justifySelf:"flex-end"}),Object(n.jsx)(b.a,{spacing:8,children:Object(n.jsx)(_,{})})]})})})},te=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,514)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsxs)(r.StrictMode,{children:[Object(n.jsx)(a.a,{}),Object(n.jsx)(ee,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),te()}},[[465,1,2]]]);
//# sourceMappingURL=main.3ad4ba62.chunk.js.map