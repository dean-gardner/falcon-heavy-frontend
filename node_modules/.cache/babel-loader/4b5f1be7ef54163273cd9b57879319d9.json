{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function switchMap(project, resultSelector) {\n  if (typeof resultSelector === 'function') {\n    return function (source) {\n      return source.pipe(switchMap(function (a, i) {\n        return from(project(a, i)).pipe(map(function (b, ii) {\n          return resultSelector(a, b, i, ii);\n        }));\n      }));\n    };\n  }\n\n  return function (source) {\n    return source.lift(new SwitchMapOperator(project));\n  };\n}\n\nvar SwitchMapOperator = /*@__PURE__*/function () {\n  function SwitchMapOperator(project) {\n    this.project = project;\n  }\n\n  SwitchMapOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n  };\n\n  return SwitchMapOperator;\n}();\n\nvar SwitchMapSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SwitchMapSubscriber, _super);\n\n  function SwitchMapSubscriber(destination, project) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.project = project;\n    _this.index = 0;\n    return _this;\n  }\n\n  SwitchMapSubscriber.prototype._next = function (value) {\n    var result;\n    var index = this.index++;\n\n    try {\n      result = this.project(value, index);\n    } catch (error) {\n      this.destination.error(error);\n      return;\n    }\n\n    this._innerSub(result);\n  };\n\n  SwitchMapSubscriber.prototype._innerSub = function (result) {\n    var innerSubscription = this.innerSubscription;\n\n    if (innerSubscription) {\n      innerSubscription.unsubscribe();\n    }\n\n    var innerSubscriber = new SimpleInnerSubscriber(this);\n    var destination = this.destination;\n    destination.add(innerSubscriber);\n    this.innerSubscription = innerSubscribe(result, innerSubscriber);\n\n    if (this.innerSubscription !== innerSubscriber) {\n      destination.add(this.innerSubscription);\n    }\n  };\n\n  SwitchMapSubscriber.prototype._complete = function () {\n    var innerSubscription = this.innerSubscription;\n\n    if (!innerSubscription || innerSubscription.closed) {\n      _super.prototype._complete.call(this);\n    }\n\n    this.unsubscribe();\n  };\n\n  SwitchMapSubscriber.prototype._unsubscribe = function () {\n    this.innerSubscription = undefined;\n  };\n\n  SwitchMapSubscriber.prototype.notifyComplete = function () {\n    this.innerSubscription = undefined;\n\n    if (this.isStopped) {\n      _super.prototype._complete.call(this);\n    }\n  };\n\n  SwitchMapSubscriber.prototype.notifyNext = function (innerValue) {\n    this.destination.next(innerValue);\n  };\n\n  return SwitchMapSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"mappings":"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","names":["tslib_1","map","from","SimpleOuterSubscriber","SimpleInnerSubscriber","innerSubscribe","switchMap","project","resultSelector","source","pipe","a","i","b","ii","lift","SwitchMapOperator","prototype","call","subscriber","subscribe","SwitchMapSubscriber","_super","__extends","destination","_this","index","_next","value","result","error","_innerSub","innerSubscription","unsubscribe","innerSubscriber","add","_complete","closed","_unsubscribe","undefined","notifyComplete","isStopped","notifyNext","innerValue","next"],"sources":["D:/work/projects/plenty/falcon-heavy-frontend/node_modules/rxjs/_esm5/internal/operators/switchMap.js"],"sourcesContent":["/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function switchMap(project, resultSelector) {\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(switchMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };\n    }\n    return function (source) { return source.lift(new SwitchMapOperator(project)); };\n}\nvar SwitchMapOperator = /*@__PURE__*/ (function () {\n    function SwitchMapOperator(project) {\n        this.project = project;\n    }\n    SwitchMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n    };\n    return SwitchMapOperator;\n}());\nvar SwitchMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SwitchMapSubscriber, _super);\n    function SwitchMapSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.index = 0;\n        return _this;\n    }\n    SwitchMapSubscriber.prototype._next = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (error) {\n            this.destination.error(error);\n            return;\n        }\n        this._innerSub(result);\n    };\n    SwitchMapSubscriber.prototype._innerSub = function (result) {\n        var innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        var innerSubscriber = new SimpleInnerSubscriber(this);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        this.innerSubscription = innerSubscribe(result, innerSubscriber);\n        if (this.innerSubscription !== innerSubscriber) {\n            destination.add(this.innerSubscription);\n        }\n    };\n    SwitchMapSubscriber.prototype._complete = function () {\n        var innerSubscription = this.innerSubscription;\n        if (!innerSubscription || innerSubscription.closed) {\n            _super.prototype._complete.call(this);\n        }\n        this.unsubscribe();\n    };\n    SwitchMapSubscriber.prototype._unsubscribe = function () {\n        this.innerSubscription = undefined;\n    };\n    SwitchMapSubscriber.prototype.notifyComplete = function () {\n        this.innerSubscription = undefined;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    return SwitchMapSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=switchMap.js.map\n"]},"metadata":{},"sourceType":"module"}