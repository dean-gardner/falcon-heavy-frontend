{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function distinct(keySelector, flushes) {\n  return function (source) {\n    return source.lift(new DistinctOperator(keySelector, flushes));\n  };\n}\n\nvar DistinctOperator = /*@__PURE__*/function () {\n  function DistinctOperator(keySelector, flushes) {\n    this.keySelector = keySelector;\n    this.flushes = flushes;\n  }\n\n  DistinctOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n  };\n\n  return DistinctOperator;\n}();\n\nvar DistinctSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(DistinctSubscriber, _super);\n\n  function DistinctSubscriber(destination, keySelector, flushes) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.keySelector = keySelector;\n    _this.values = new Set();\n\n    if (flushes) {\n      _this.add(innerSubscribe(flushes, new SimpleInnerSubscriber(_this)));\n    }\n\n    return _this;\n  }\n\n  DistinctSubscriber.prototype.notifyNext = function () {\n    this.values.clear();\n  };\n\n  DistinctSubscriber.prototype.notifyError = function (error) {\n    this._error(error);\n  };\n\n  DistinctSubscriber.prototype._next = function (value) {\n    if (this.keySelector) {\n      this._useKeySelector(value);\n    } else {\n      this._finalizeNext(value, value);\n    }\n  };\n\n  DistinctSubscriber.prototype._useKeySelector = function (value) {\n    var key;\n    var destination = this.destination;\n\n    try {\n      key = this.keySelector(value);\n    } catch (err) {\n      destination.error(err);\n      return;\n    }\n\n    this._finalizeNext(key, value);\n  };\n\n  DistinctSubscriber.prototype._finalizeNext = function (key, value) {\n    var values = this.values;\n\n    if (!values.has(key)) {\n      values.add(key);\n      this.destination.next(value);\n    }\n  };\n\n  return DistinctSubscriber;\n}(SimpleOuterSubscriber);\n\nexport { DistinctSubscriber };","map":{"version":3,"mappings":"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","names":["tslib_1","SimpleOuterSubscriber","innerSubscribe","SimpleInnerSubscriber","distinct","keySelector","flushes","source","lift","DistinctOperator","prototype","call","subscriber","subscribe","DistinctSubscriber","_super","__extends","destination","_this","values","Set","add","notifyNext","clear","notifyError","error","_error","_next","value","_useKeySelector","_finalizeNext","key","err","has","next"],"sources":["D:/work/projects/plenty/falcon-heavy-frontend/node_modules/rxjs/_esm5/internal/operators/distinct.js"],"sourcesContent":["/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function distinct(keySelector, flushes) {\n    return function (source) { return source.lift(new DistinctOperator(keySelector, flushes)); };\n}\nvar DistinctOperator = /*@__PURE__*/ (function () {\n    function DistinctOperator(keySelector, flushes) {\n        this.keySelector = keySelector;\n        this.flushes = flushes;\n    }\n    DistinctOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n    };\n    return DistinctOperator;\n}());\nvar DistinctSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DistinctSubscriber, _super);\n    function DistinctSubscriber(destination, keySelector, flushes) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.values = new Set();\n        if (flushes) {\n            _this.add(innerSubscribe(flushes, new SimpleInnerSubscriber(_this)));\n        }\n        return _this;\n    }\n    DistinctSubscriber.prototype.notifyNext = function () {\n        this.values.clear();\n    };\n    DistinctSubscriber.prototype.notifyError = function (error) {\n        this._error(error);\n    };\n    DistinctSubscriber.prototype._next = function (value) {\n        if (this.keySelector) {\n            this._useKeySelector(value);\n        }\n        else {\n            this._finalizeNext(value, value);\n        }\n    };\n    DistinctSubscriber.prototype._useKeySelector = function (value) {\n        var key;\n        var destination = this.destination;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this._finalizeNext(key, value);\n    };\n    DistinctSubscriber.prototype._finalizeNext = function (key, value) {\n        var values = this.values;\n        if (!values.has(key)) {\n            values.add(key);\n            this.destination.next(value);\n        }\n    };\n    return DistinctSubscriber;\n}(SimpleOuterSubscriber));\nexport { DistinctSubscriber };\n//# sourceMappingURL=distinct.js.map\n"]},"metadata":{},"sourceType":"module"}