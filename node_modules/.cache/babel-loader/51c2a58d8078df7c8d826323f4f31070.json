{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function window(windowBoundaries) {\n  return function windowOperatorFunction(source) {\n    return source.lift(new WindowOperator(windowBoundaries));\n  };\n}\n\nvar WindowOperator = /*@__PURE__*/function () {\n  function WindowOperator(windowBoundaries) {\n    this.windowBoundaries = windowBoundaries;\n  }\n\n  WindowOperator.prototype.call = function (subscriber, source) {\n    var windowSubscriber = new WindowSubscriber(subscriber);\n    var sourceSubscription = source.subscribe(windowSubscriber);\n\n    if (!sourceSubscription.closed) {\n      windowSubscriber.add(innerSubscribe(this.windowBoundaries, new SimpleInnerSubscriber(windowSubscriber)));\n    }\n\n    return sourceSubscription;\n  };\n\n  return WindowOperator;\n}();\n\nvar WindowSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(WindowSubscriber, _super);\n\n  function WindowSubscriber(destination) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.window = new Subject();\n    destination.next(_this.window);\n    return _this;\n  }\n\n  WindowSubscriber.prototype.notifyNext = function () {\n    this.openWindow();\n  };\n\n  WindowSubscriber.prototype.notifyError = function (error) {\n    this._error(error);\n  };\n\n  WindowSubscriber.prototype.notifyComplete = function () {\n    this._complete();\n  };\n\n  WindowSubscriber.prototype._next = function (value) {\n    this.window.next(value);\n  };\n\n  WindowSubscriber.prototype._error = function (err) {\n    this.window.error(err);\n    this.destination.error(err);\n  };\n\n  WindowSubscriber.prototype._complete = function () {\n    this.window.complete();\n    this.destination.complete();\n  };\n\n  WindowSubscriber.prototype._unsubscribe = function () {\n    this.window = null;\n  };\n\n  WindowSubscriber.prototype.openWindow = function () {\n    var prevWindow = this.window;\n\n    if (prevWindow) {\n      prevWindow.complete();\n    }\n\n    var destination = this.destination;\n    var newWindow = this.window = new Subject();\n    destination.next(newWindow);\n  };\n\n  return WindowSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"mappings":"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","names":["tslib_1","Subject","SimpleOuterSubscriber","innerSubscribe","SimpleInnerSubscriber","window","windowBoundaries","windowOperatorFunction","source","lift","WindowOperator","prototype","call","subscriber","windowSubscriber","WindowSubscriber","sourceSubscription","subscribe","closed","add","_super","__extends","destination","_this","next","notifyNext","openWindow","notifyError","error","_error","notifyComplete","_complete","_next","value","err","complete","_unsubscribe","prevWindow","newWindow"],"sources":["D:/work/projects/plenty/falcon-heavy-frontend/node_modules/rxjs/_esm5/internal/operators/window.js"],"sourcesContent":["/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function window(windowBoundaries) {\n    return function windowOperatorFunction(source) {\n        return source.lift(new WindowOperator(windowBoundaries));\n    };\n}\nvar WindowOperator = /*@__PURE__*/ (function () {\n    function WindowOperator(windowBoundaries) {\n        this.windowBoundaries = windowBoundaries;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        var windowSubscriber = new WindowSubscriber(subscriber);\n        var sourceSubscription = source.subscribe(windowSubscriber);\n        if (!sourceSubscription.closed) {\n            windowSubscriber.add(innerSubscribe(this.windowBoundaries, new SimpleInnerSubscriber(windowSubscriber)));\n        }\n        return sourceSubscription;\n    };\n    return WindowOperator;\n}());\nvar WindowSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.window = new Subject();\n        destination.next(_this.window);\n        return _this;\n    }\n    WindowSubscriber.prototype.notifyNext = function () {\n        this.openWindow();\n    };\n    WindowSubscriber.prototype.notifyError = function (error) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function () {\n        this._complete();\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n    };\n    WindowSubscriber.prototype._unsubscribe = function () {\n        this.window = null;\n    };\n    WindowSubscriber.prototype.openWindow = function () {\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var destination = this.destination;\n        var newWindow = this.window = new Subject();\n        destination.next(newWindow);\n    };\n    return WindowSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=window.js.map\n"]},"metadata":{},"sourceType":"module"}