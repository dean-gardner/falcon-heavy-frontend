{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_Subscriber,_util_EmptyError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\nexport function single(predicate) {\n  return function (source) {\n    return source.lift(new SingleOperator(predicate, source));\n  };\n}\n\nvar SingleOperator = /*@__PURE__*/function () {\n  function SingleOperator(predicate, source) {\n    this.predicate = predicate;\n    this.source = source;\n  }\n\n  SingleOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n  };\n\n  return SingleOperator;\n}();\n\nvar SingleSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SingleSubscriber, _super);\n\n  function SingleSubscriber(destination, predicate, source) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.predicate = predicate;\n    _this.source = source;\n    _this.seenValue = false;\n    _this.index = 0;\n    return _this;\n  }\n\n  SingleSubscriber.prototype.applySingleValue = function (value) {\n    if (this.seenValue) {\n      this.destination.error('Sequence contains more than one element');\n    } else {\n      this.seenValue = true;\n      this.singleValue = value;\n    }\n  };\n\n  SingleSubscriber.prototype._next = function (value) {\n    var index = this.index++;\n\n    if (this.predicate) {\n      this.tryNext(value, index);\n    } else {\n      this.applySingleValue(value);\n    }\n  };\n\n  SingleSubscriber.prototype.tryNext = function (value, index) {\n    try {\n      if (this.predicate(value, index, this.source)) {\n        this.applySingleValue(value);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  };\n\n  SingleSubscriber.prototype._complete = function () {\n    var destination = this.destination;\n\n    if (this.index > 0) {\n      destination.next(this.seenValue ? this.singleValue : undefined);\n      destination.complete();\n    } else {\n      destination.error(new EmptyError());\n    }\n  };\n\n  return SingleSubscriber;\n}(Subscriber);","map":{"version":3,"mappings":"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","names":["tslib_1","Subscriber","EmptyError","single","predicate","source","lift","SingleOperator","prototype","call","subscriber","subscribe","SingleSubscriber","_super","__extends","destination","_this","seenValue","index","applySingleValue","value","error","singleValue","_next","tryNext","err","_complete","next","undefined","complete"],"sources":["D:/work/projects/plenty/falcon-heavy-frontend/node_modules/rxjs/_esm5/internal/operators/single.js"],"sourcesContent":["/** PURE_IMPORTS_START tslib,_Subscriber,_util_EmptyError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\nexport function single(predicate) {\n    return function (source) { return source.lift(new SingleOperator(predicate, source)); };\n}\nvar SingleOperator = /*@__PURE__*/ (function () {\n    function SingleOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    SingleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n    };\n    return SingleOperator;\n}());\nvar SingleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SingleSubscriber, _super);\n    function SingleSubscriber(destination, predicate, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.seenValue = false;\n        _this.index = 0;\n        return _this;\n    }\n    SingleSubscriber.prototype.applySingleValue = function (value) {\n        if (this.seenValue) {\n            this.destination.error('Sequence contains more than one element');\n        }\n        else {\n            this.seenValue = true;\n            this.singleValue = value;\n        }\n    };\n    SingleSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this.tryNext(value, index);\n        }\n        else {\n            this.applySingleValue(value);\n        }\n    };\n    SingleSubscriber.prototype.tryNext = function (value, index) {\n        try {\n            if (this.predicate(value, index, this.source)) {\n                this.applySingleValue(value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    SingleSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.index > 0) {\n            destination.next(this.seenValue ? this.singleValue : undefined);\n            destination.complete();\n        }\n        else {\n            destination.error(new EmptyError);\n        }\n    };\n    return SingleSubscriber;\n}(Subscriber));\n//# sourceMappingURL=single.js.map\n"]},"metadata":{},"sourceType":"module"}