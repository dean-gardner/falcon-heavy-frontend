{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  return function (source) {\n    var project;\n\n    if (typeof args[args.length - 1] === 'function') {\n      project = args.pop();\n    }\n\n    var observables = args;\n    return source.lift(new WithLatestFromOperator(observables, project));\n  };\n}\n\nvar WithLatestFromOperator = /*@__PURE__*/function () {\n  function WithLatestFromOperator(observables, project) {\n    this.observables = observables;\n    this.project = project;\n  }\n\n  WithLatestFromOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n  };\n\n  return WithLatestFromOperator;\n}();\n\nvar WithLatestFromSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(WithLatestFromSubscriber, _super);\n\n  function WithLatestFromSubscriber(destination, observables, project) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.observables = observables;\n    _this.project = project;\n    _this.toRespond = [];\n    var len = observables.length;\n    _this.values = new Array(len);\n\n    for (var i = 0; i < len; i++) {\n      _this.toRespond.push(i);\n    }\n\n    for (var i = 0; i < len; i++) {\n      var observable = observables[i];\n\n      _this.add(subscribeToResult(_this, observable, undefined, i));\n    }\n\n    return _this;\n  }\n\n  WithLatestFromSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {\n    this.values[outerIndex] = innerValue;\n    var toRespond = this.toRespond;\n\n    if (toRespond.length > 0) {\n      var found = toRespond.indexOf(outerIndex);\n\n      if (found !== -1) {\n        toRespond.splice(found, 1);\n      }\n    }\n  };\n\n  WithLatestFromSubscriber.prototype.notifyComplete = function () {};\n\n  WithLatestFromSubscriber.prototype._next = function (value) {\n    if (this.toRespond.length === 0) {\n      var args = [value].concat(this.values);\n\n      if (this.project) {\n        this._tryProject(args);\n      } else {\n        this.destination.next(args);\n      }\n    }\n  };\n\n  WithLatestFromSubscriber.prototype._tryProject = function (args) {\n    var result;\n\n    try {\n      result = this.project.apply(this, args);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.next(result);\n  };\n\n  return WithLatestFromSubscriber;\n}(OuterSubscriber);","map":{"version":3,"mappings":"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","names":["tslib_1","OuterSubscriber","subscribeToResult","withLatestFrom","args","_i","arguments","length","source","project","pop","observables","lift","WithLatestFromOperator","prototype","call","subscriber","subscribe","WithLatestFromSubscriber","_super","__extends","destination","_this","toRespond","len","values","Array","i","push","observable","add","undefined","notifyNext","_outerValue","innerValue","outerIndex","found","indexOf","splice","notifyComplete","_next","value","concat","_tryProject","next","result","apply","err","error"],"sources":["D:/work/projects/plenty/falcon-heavy-frontend/node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js"],"sourcesContent":["/** PURE_IMPORTS_START tslib,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return function (source) {\n        var project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        var observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nvar WithLatestFromOperator = /*@__PURE__*/ (function () {\n    function WithLatestFromOperator(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    WithLatestFromOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    };\n    return WithLatestFromOperator;\n}());\nvar WithLatestFromSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WithLatestFromSubscriber, _super);\n    function WithLatestFromSubscriber(destination, observables, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.observables = observables;\n        _this.project = project;\n        _this.toRespond = [];\n        var len = observables.length;\n        _this.values = new Array(len);\n        for (var i = 0; i < len; i++) {\n            _this.toRespond.push(i);\n        }\n        for (var i = 0; i < len; i++) {\n            var observable = observables[i];\n            _this.add(subscribeToResult(_this, observable, undefined, i));\n        }\n        return _this;\n    }\n    WithLatestFromSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {\n        this.values[outerIndex] = innerValue;\n        var toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            var found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype.notifyComplete = function () {\n    };\n    WithLatestFromSubscriber.prototype._next = function (value) {\n        if (this.toRespond.length === 0) {\n            var args = [value].concat(this.values);\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype._tryProject = function (args) {\n        var result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return WithLatestFromSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=withLatestFrom.js.map\n"]},"metadata":{},"sourceType":"module"}