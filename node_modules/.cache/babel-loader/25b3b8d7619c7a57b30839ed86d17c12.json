{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback } from \"react\";\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { NETWORK_ADDRESS, BOND_CONTRACT_ADDRESS } from '../../config/index';\nexport default function useBonds() {\n  _s();\n\n  const buyBond = useCallback(async () => {\n    // alert('Waiting for back-end');\n    const bondPrice = 1;\n    const LpToken = \"QUYPY\";\n    const LpTokenAmount = 10;\n    const Slippage = 0.5;\n    debugger;\n    const Tezos = new TezosToolkit(NETWORK_ADDRESS);\n    const contract = await Tezos.wallet.at(BOND_CONTRACT_ADDRESS);\n    Tezos.contract.at(BOND_CONTRACT_ADDRESS).then(contract => {\n      return contract.methods.order(bondPrice, LpToken, LpTokenAmount, Slippage).send();\n    }); // const batch = await Tezos.wallet.batch()\n    //   .withContractCall(contract.methods.interact('defaul'))\n    //   .withContractCall(contract.methods.wait([['unit']]));\n    // const batchOp = await batch.send();\n    // console.log('Operation hash:', batchOp.hash);\n    // await batchOp.confirmation();\n  }, []);\n  return {\n    buyBond\n  };\n}\n\n_s(useBonds, \"98EULqhvGbXdXwBWcxxQNfx+sLQ=\");","map":{"version":3,"sources":["D:/work/projects/plenty/falcon-heavy-frontend/src/components/Bonds/hooks.ts"],"names":["useCallback","TezosToolkit","NETWORK_ADDRESS","BOND_CONTRACT_ADDRESS","useBonds","buyBond","bondPrice","LpToken","LpTokenAmount","Slippage","Tezos","contract","wallet","at","then","methods","order","send"],"mappings":";;AAAA,SAASA,WAAT,QAAsC,OAAtC;AAGA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,SAAQC,eAAR,EAAyBC,qBAAzB,QAAqD,oBAArD;AAGA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AAEjC,QAAMC,OAAO,GAAGL,WAAW,CAAC,YAAY;AACpC;AAEA,UAAMM,SAAS,GAAG,CAAlB;AACA,UAAMC,OAAO,GAAG,OAAhB;AACA,UAAMC,aAAa,GAAG,EAAtB;AACA,UAAMC,QAAQ,GAAG,GAAjB;AAGA;AACA,UAAMC,KAAK,GAAG,IAAIT,YAAJ,CAAiBC,eAAjB,CAAd;AACA,UAAMS,QAAQ,GAAG,MAAMD,KAAK,CAACE,MAAN,CAAaC,EAAb,CAAgBV,qBAAhB,CAAvB;AACAO,IAAAA,KAAK,CAACC,QAAN,CAAeE,EAAf,CAAkBV,qBAAlB,EAAyCW,IAAzC,CAA8CH,QAAQ,IAAI;AACxD,aAAOA,QAAQ,CAACI,OAAT,CAAiBC,KAAjB,CAAuBV,SAAvB,EAAkCC,OAAlC,EAA2CC,aAA3C,EAA0DC,QAA1D,EAAoEQ,IAApE,EAAP;AACD,KAFD,EAZoC,CAkBpC;AACA;AACA;AAEA;AACA;AACA;AACH,GAzB0B,EAyBxB,EAzBwB,CAA3B;AA6BA,SAAO;AAAEZ,IAAAA;AAAF,GAAP;AACD;;GAhCuBD,Q","sourcesContent":["import { useCallback, useState } from \"react\";\nimport { BeaconWallet } from \"@taquito/beacon-wallet\";\n\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { NetworkType, PermissionScope } from \"@airgap/beacon-sdk\";\nimport {NETWORK_ADDRESS, BOND_CONTRACT_ADDRESS} from '../../config/index';\n\n\nexport default function useBonds() {\n\n  const buyBond = useCallback(async () => {\n      // alert('Waiting for back-end');\n      \n      const bondPrice = 1;\n      const LpToken = \"QUYPY\";\n      const LpTokenAmount = 10;\n      const Slippage = 0.5;\n\n\n      debugger;\n      const Tezos = new TezosToolkit(NETWORK_ADDRESS);\n      const contract = await Tezos.wallet.at(BOND_CONTRACT_ADDRESS);\n      Tezos.contract.at(BOND_CONTRACT_ADDRESS).then(contract => {\n        return contract.methods.order(bondPrice, LpToken, LpTokenAmount, Slippage).send();\n      } );\n\n\n\n      // const batch = await Tezos.wallet.batch()\n      //   .withContractCall(contract.methods.interact('defaul'))\n      //   .withContractCall(contract.methods.wait([['unit']]));\n\n      // const batchOp = await batch.send();\n      // console.log('Operation hash:', batchOp.hash);\n      // await batchOp.confirmation();\n  }, []);\n\n\n\n  return { buyBond };\n}\n"]},"metadata":{},"sourceType":"module"}