{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async,_throttle PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { defaultThrottleConfig } from './throttle';\nexport function throttleTime(duration, scheduler, config) {\n  if (scheduler === void 0) {\n    scheduler = async;\n  }\n\n  if (config === void 0) {\n    config = defaultThrottleConfig;\n  }\n\n  return function (source) {\n    return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));\n  };\n}\n\nvar ThrottleTimeOperator = /*@__PURE__*/function () {\n  function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n    this.duration = duration;\n    this.scheduler = scheduler;\n    this.leading = leading;\n    this.trailing = trailing;\n  }\n\n  ThrottleTimeOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n  };\n\n  return ThrottleTimeOperator;\n}();\n\nvar ThrottleTimeSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(ThrottleTimeSubscriber, _super);\n\n  function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.duration = duration;\n    _this.scheduler = scheduler;\n    _this.leading = leading;\n    _this.trailing = trailing;\n    _this._hasTrailingValue = false;\n    _this._trailingValue = null;\n    return _this;\n  }\n\n  ThrottleTimeSubscriber.prototype._next = function (value) {\n    if (this.throttled) {\n      if (this.trailing) {\n        this._trailingValue = value;\n        this._hasTrailingValue = true;\n      }\n    } else {\n      this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, {\n        subscriber: this\n      }));\n\n      if (this.leading) {\n        this.destination.next(value);\n      } else if (this.trailing) {\n        this._trailingValue = value;\n        this._hasTrailingValue = true;\n      }\n    }\n  };\n\n  ThrottleTimeSubscriber.prototype._complete = function () {\n    if (this._hasTrailingValue) {\n      this.destination.next(this._trailingValue);\n      this.destination.complete();\n    } else {\n      this.destination.complete();\n    }\n  };\n\n  ThrottleTimeSubscriber.prototype.clearThrottle = function () {\n    var throttled = this.throttled;\n\n    if (throttled) {\n      if (this.trailing && this._hasTrailingValue) {\n        this.destination.next(this._trailingValue);\n        this._trailingValue = null;\n        this._hasTrailingValue = false;\n      }\n\n      throttled.unsubscribe();\n      this.remove(throttled);\n      this.throttled = null;\n    }\n  };\n\n  return ThrottleTimeSubscriber;\n}(Subscriber);\n\nfunction dispatchNext(arg) {\n  var subscriber = arg.subscriber;\n  subscriber.clearThrottle();\n}","map":{"version":3,"mappings":"AAAA;AACA,OAAO,KAAKA,OAAZ,MAAyB,OAAzB;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,SAASC,qBAAT,QAAsC,YAAtC;AACA,OAAO,SAASC,YAAT,CAAsBC,QAAtB,EAAgCC,SAAhC,EAA2CC,MAA3C,EAAmD;AACtD,MAAID,SAAS,KAAK,KAAK,CAAvB,EAA0B;AACtBA,aAAS,GAAGJ,KAAZ;AACH;;AACD,MAAIK,MAAM,KAAK,KAAK,CAApB,EAAuB;AACnBA,UAAM,GAAGJ,qBAAT;AACH;;AACD,SAAO,UAAUK,MAAV,EAAkB;AAAE,WAAOA,MAAM,CAACC,IAAP,CAAY,IAAIC,oBAAJ,CAAyBL,QAAzB,EAAmCC,SAAnC,EAA8CC,MAAM,CAACI,OAArD,EAA8DJ,MAAM,CAACK,QAArE,CAAZ,CAAP;AAAqG,GAAhI;AACH;;AACD,IAAIF,oBAAoB,GAAG,aAAe,YAAY;AAClD,WAASA,oBAAT,CAA8BL,QAA9B,EAAwCC,SAAxC,EAAmDK,OAAnD,EAA4DC,QAA5D,EAAsE;AAClE,SAAKP,QAAL,GAAgBA,QAAhB;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKK,OAAL,GAAeA,OAAf;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACH;;AACDF,sBAAoB,CAACG,SAArB,CAA+BC,IAA/B,GAAsC,UAAUC,UAAV,EAAsBP,MAAtB,EAA8B;AAChE,WAAOA,MAAM,CAACQ,SAAP,CAAiB,IAAIC,sBAAJ,CAA2BF,UAA3B,EAAuC,KAAKV,QAA5C,EAAsD,KAAKC,SAA3D,EAAsE,KAAKK,OAA3E,EAAoF,KAAKC,QAAzF,CAAjB,CAAP;AACH,GAFD;;AAGA,SAAOF,oBAAP;AACH,CAXyC,EAA1C;;AAYA,IAAIO,sBAAsB,GAAG,aAAe,UAAUC,MAAV,EAAkB;AAC1DlB,SAAO,CAACmB,SAAR,CAAkBF,sBAAlB,EAA0CC,MAA1C;;AACA,WAASD,sBAAT,CAAgCG,WAAhC,EAA6Cf,QAA7C,EAAuDC,SAAvD,EAAkEK,OAAlE,EAA2EC,QAA3E,EAAqF;AACjF,QAAIS,KAAK,GAAGH,MAAM,CAACJ,IAAP,CAAY,IAAZ,EAAkBM,WAAlB,KAAkC,IAA9C;;AACAC,SAAK,CAAChB,QAAN,GAAiBA,QAAjB;AACAgB,SAAK,CAACf,SAAN,GAAkBA,SAAlB;AACAe,SAAK,CAACV,OAAN,GAAgBA,OAAhB;AACAU,SAAK,CAACT,QAAN,GAAiBA,QAAjB;AACAS,SAAK,CAACC,iBAAN,GAA0B,KAA1B;AACAD,SAAK,CAACE,cAAN,GAAuB,IAAvB;AACA,WAAOF,KAAP;AACH;;AACDJ,wBAAsB,CAACJ,SAAvB,CAAiCW,KAAjC,GAAyC,UAAUC,KAAV,EAAiB;AACtD,QAAI,KAAKC,SAAT,EAAoB;AAChB,UAAI,KAAKd,QAAT,EAAmB;AACf,aAAKW,cAAL,GAAsBE,KAAtB;AACA,aAAKH,iBAAL,GAAyB,IAAzB;AACH;AACJ,KALD,MAMK;AACD,WAAKK,GAAL,CAAS,KAAKD,SAAL,GAAiB,KAAKpB,SAAL,CAAesB,QAAf,CAAwBC,YAAxB,EAAsC,KAAKxB,QAA3C,EAAqD;AAAEU,kBAAU,EAAE;AAAd,OAArD,CAA1B;;AACA,UAAI,KAAKJ,OAAT,EAAkB;AACd,aAAKS,WAAL,CAAiBU,IAAjB,CAAsBL,KAAtB;AACH,OAFD,MAGK,IAAI,KAAKb,QAAT,EAAmB;AACpB,aAAKW,cAAL,GAAsBE,KAAtB;AACA,aAAKH,iBAAL,GAAyB,IAAzB;AACH;AACJ;AACJ,GAjBD;;AAkBAL,wBAAsB,CAACJ,SAAvB,CAAiCkB,SAAjC,GAA6C,YAAY;AACrD,QAAI,KAAKT,iBAAT,EAA4B;AACxB,WAAKF,WAAL,CAAiBU,IAAjB,CAAsB,KAAKP,cAA3B;AACA,WAAKH,WAAL,CAAiBY,QAAjB;AACH,KAHD,MAIK;AACD,WAAKZ,WAAL,CAAiBY,QAAjB;AACH;AACJ,GARD;;AASAf,wBAAsB,CAACJ,SAAvB,CAAiCoB,aAAjC,GAAiD,YAAY;AACzD,QAAIP,SAAS,GAAG,KAAKA,SAArB;;AACA,QAAIA,SAAJ,EAAe;AACX,UAAI,KAAKd,QAAL,IAAiB,KAAKU,iBAA1B,EAA6C;AACzC,aAAKF,WAAL,CAAiBU,IAAjB,CAAsB,KAAKP,cAA3B;AACA,aAAKA,cAAL,GAAsB,IAAtB;AACA,aAAKD,iBAAL,GAAyB,KAAzB;AACH;;AACDI,eAAS,CAACQ,WAAV;AACA,WAAKC,MAAL,CAAYT,SAAZ;AACA,WAAKA,SAAL,GAAiB,IAAjB;AACH;AACJ,GAZD;;AAaA,SAAOT,sBAAP;AACH,CArD2C,CAqD1ChB,UArD0C,CAA5C;;AAsDA,SAAS4B,YAAT,CAAsBO,GAAtB,EAA2B;AACvB,MAAIrB,UAAU,GAAGqB,GAAG,CAACrB,UAArB;AACAA,YAAU,CAACkB,aAAX;AACH","names":["tslib_1","Subscriber","async","defaultThrottleConfig","throttleTime","duration","scheduler","config","source","lift","ThrottleTimeOperator","leading","trailing","prototype","call","subscriber","subscribe","ThrottleTimeSubscriber","_super","__extends","destination","_this","_hasTrailingValue","_trailingValue","_next","value","throttled","add","schedule","dispatchNext","next","_complete","complete","clearThrottle","unsubscribe","remove","arg"],"sources":["D:/work/projects/plenty/falcon-heavy-frontend/node_modules/rxjs/_esm5/internal/operators/throttleTime.js"],"sourcesContent":["/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async,_throttle PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { defaultThrottleConfig } from './throttle';\nexport function throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    if (config === void 0) {\n        config = defaultThrottleConfig;\n    }\n    return function (source) { return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing)); };\n}\nvar ThrottleTimeOperator = /*@__PURE__*/ (function () {\n    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    };\n    return ThrottleTimeOperator;\n}());\nvar ThrottleTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ThrottleTimeSubscriber, _super);\n    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n        var _this = _super.call(this, destination) || this;\n        _this.duration = duration;\n        _this.scheduler = scheduler;\n        _this.leading = leading;\n        _this.trailing = trailing;\n        _this._hasTrailingValue = false;\n        _this._trailingValue = null;\n        return _this;\n    }\n    ThrottleTimeSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n        else {\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));\n            if (this.leading) {\n                this.destination.next(value);\n            }\n            else if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n    };\n    ThrottleTimeSubscriber.prototype._complete = function () {\n        if (this._hasTrailingValue) {\n            this.destination.next(this._trailingValue);\n            this.destination.complete();\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    ThrottleTimeSubscriber.prototype.clearThrottle = function () {\n        var throttled = this.throttled;\n        if (throttled) {\n            if (this.trailing && this._hasTrailingValue) {\n                this.destination.next(this._trailingValue);\n                this._trailingValue = null;\n                this._hasTrailingValue = false;\n            }\n            throttled.unsubscribe();\n            this.remove(throttled);\n            this.throttled = null;\n        }\n    };\n    return ThrottleTimeSubscriber;\n}(Subscriber));\nfunction dispatchNext(arg) {\n    var subscriber = arg.subscriber;\n    subscriber.clearThrottle();\n}\n//# sourceMappingURL=throttleTime.js.map\n"]},"metadata":{},"sourceType":"module"}