{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { useDescendants, useDescendant } from \"@chakra-ui/descendant\";\nimport { useControllableState, useId } from \"@chakra-ui/hooks\";\nimport { mergeRefs, callAllHandlers, createContext, ariaAttr } from \"@chakra-ui/utils\";\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nvar [PinInputProvider, usePinInputContext] = createContext({\n  name: \"PinInputContext\",\n  errorMessage: \"usePinInputContext: `context` is undefined. Seems you forgot to all pin input fields within `<PinInput />`\"\n});\nexport { PinInputProvider, usePinInputContext };\n\nfunction toArray(value) {\n  if (typeof value === \"string\") {\n    return value.split(\"\");\n  }\n\n  return undefined;\n}\n\nexport function usePinInput(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var {\n    autoFocus,\n    value,\n    defaultValue,\n    onChange: _onChange,\n    onComplete,\n    placeholder = \"○\",\n    manageFocus = true,\n    id: idProp,\n    isDisabled,\n    isInvalid\n  } = props;\n  var uuid = useId();\n  var id = idProp != null ? idProp : \"pin-input-\" + uuid;\n  var domContext = useDescendants();\n  var {\n    descendants\n  } = domContext;\n  var [moveFocus, setMoveFocus] = useState(true);\n  var [values, setValues] = useControllableState({\n    defaultValue: toArray(defaultValue) || [],\n    value: toArray(value),\n    onChange: values => _onChange == null ? void 0 : _onChange(values.join(\"\"))\n  });\n  useEffect(() => {\n    if (autoFocus) {\n      var _firstInput$element;\n\n      var firstInput = descendants[0];\n      firstInput == null ? void 0 : (_firstInput$element = firstInput.element) == null ? void 0 : _firstInput$element.focus();\n    }\n  }, [descendants, autoFocus]);\n  var focusNext = useCallback(index => {\n    var _nextInput$element;\n\n    if (!moveFocus || !manageFocus) return;\n    var nextInput = descendants[index + 1];\n    nextInput == null ? void 0 : (_nextInput$element = nextInput.element) == null ? void 0 : _nextInput$element.focus();\n  }, [descendants, moveFocus, manageFocus]);\n  var setValue = useCallback((value, index) => {\n    var nextValues = [...values];\n    nextValues[index] = value;\n    setValues(nextValues); // if we're at the last input, call onComplete (no need to move focus)\n\n    if (index === descendants.length - 1) {\n      onComplete == null ? void 0 : onComplete(nextValues.join(\"\"));\n    } else {\n      focusNext(index);\n    }\n  }, [values, setValues, focusNext, onComplete, descendants.length]);\n  var clear = useCallback(() => {\n    var _firstInput$element2;\n\n    var values = Array(descendants.length).fill(\"\");\n    setValues(values);\n    var firstInput = descendants[0];\n    (_firstInput$element2 = firstInput.element) == null ? void 0 : _firstInput$element2.focus();\n  }, [descendants, setValues]);\n  return {\n    id,\n    domContext,\n    setValue,\n    values,\n    setValues,\n    setMoveFocus,\n    clear,\n    onComplete,\n    placeholder,\n    manageFocus,\n    isDisabled,\n    isInvalid\n  };\n}\nexport function usePinInputField(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var {\n    ref: forwardedRef\n  } = props,\n      rest = _objectWithoutPropertiesLoose(props, [\"ref\"]);\n\n  var ref = useRef(null);\n  var {\n    id,\n    isDisabled,\n    isInvalid,\n    setValue,\n    values,\n    setMoveFocus,\n    setValues,\n    domContext,\n    placeholder,\n    manageFocus\n  } = usePinInputContext();\n  var {\n    descendants\n  } = domContext;\n  var index = useDescendant({\n    context: domContext,\n    element: ref.current\n  });\n  var getNextValue = useCallback((currentValue, eventValue) => {\n    var nextValue = eventValue;\n\n    if (currentValue && currentValue.length > 0) {\n      var [firstValue, secondValue] = eventValue;\n\n      if (currentValue[0] === firstValue) {\n        nextValue = secondValue;\n      } else if (currentValue[0] === secondValue) {\n        nextValue = firstValue;\n      }\n    }\n\n    return nextValue;\n  }, []); // Improved from: https://github.com/uber/baseweb/blob/master/src/pin-code/pin-code.js\n\n  var onChange = useCallback(event => {\n    var eventValue = event.target.value;\n    var currentValue = values[index];\n    var nextValue = getNextValue(currentValue, eventValue); // if the value was removed using backspace\n\n    if (nextValue === \"\") {\n      setValue(\"\", index);\n      return;\n    } // in the case of an autocomplete or copy and paste\n\n\n    if (eventValue.length > 2) {\n      // see if we can use the string to fill out our values\n      if (eventValue.match(/^[0-9]+$/)) {\n        var {\n          length\n        } = descendants; // ensure the value matches the number of inputs\n\n        var _nextValue = eventValue.split(\"\").filter((_, i) => i < length);\n\n        setValues(_nextValue);\n      }\n\n      return;\n    } // only set if the new value is a number\n\n\n    if (nextValue.match(/^[0-9]$/)) {\n      setValue(nextValue, index);\n    }\n\n    setMoveFocus(true);\n  }, [values, index, getNextValue, setMoveFocus, setValue, descendants.length, setValues]);\n  var onKeyDown = useCallback(event => {\n    if (event.key === \"Backspace\" && manageFocus) {\n      if (event.target.value === \"\") {\n        var prevInput = descendants[index - 1];\n\n        if (prevInput) {\n          var _prevInput$element;\n\n          setValue(\"\", index - 1);\n          (_prevInput$element = prevInput.element) == null ? void 0 : _prevInput$element.focus();\n          setMoveFocus(true);\n        }\n      } else {\n        setMoveFocus(false);\n      }\n    }\n  }, [descendants, index, setValue, setMoveFocus, manageFocus]);\n  var [hasFocus, setHasFocus] = useState(false);\n  var onFocus = useCallback(() => {\n    setHasFocus(true);\n  }, []);\n  var onBlur = useCallback(() => {\n    setHasFocus(false);\n  }, []);\n  return _extends({}, rest, {\n    id: id + \"-\" + index,\n    disabled: isDisabled,\n    \"aria-invalid\": ariaAttr(isInvalid),\n    ref: mergeRefs(ref, forwardedRef),\n    onChange: callAllHandlers(rest.onChange, onChange),\n    onKeyDown: callAllHandlers(rest.onKeyDown, onKeyDown),\n    onFocus: callAllHandlers(rest.onFocus, onFocus),\n    onBlur: callAllHandlers(rest.onBlur, onBlur),\n    value: values[index] || \"\",\n    inputMode: \"numeric\",\n    \"aria-label\": rest[\"aria-label\"] || \"Please enter your pin code\",\n    autoComplete: \"not-allowed\",\n    placeholder: hasFocus ? \"\" : placeholder\n  });\n}","map":{"version":3,"mappings":"AAAA,SAASA,QAAT,GAAoB;AAAEA,UAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,gBAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOL,MAAP;AAAgB,GAA5P;;AAA8P,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,SAASQ,6BAAT,CAAuCN,MAAvC,EAA+CO,QAA/C,EAAyD;AAAE,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIJ,MAAM,GAAG,EAAb;AAAiB,MAAIY,UAAU,GAAGd,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAjB;AAAsC,MAAIC,GAAJ,EAASJ,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGW,UAAU,CAACT,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AAAEI,OAAG,GAAGO,UAAU,CAACX,CAAD,CAAhB;AAAqB,QAAIU,QAAQ,CAACG,OAAT,CAAiBT,GAAjB,KAAyB,CAA7B,EAAgC;AAAUL,UAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;;AAAC,SAAOL,MAAP;AAAgB;;AAEnT,SAASe,cAAT,EAAyBC,aAAzB,QAA8C,uBAA9C;AACA,SAASC,oBAAT,EAA+BC,KAA/B,QAA4C,kBAA5C;AACA,SAASC,SAAT,EAAoBC,eAApB,EAAqCC,aAArC,EAAoDC,QAApD,QAAoE,kBAApE;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,EAAsCC,WAAtC,QAAyD,OAAzD;AACA,IAAI,CAACC,gBAAD,EAAmBC,kBAAnB,IAAyCP,aAAa,CAAC;AACzDQ,MAAI,EAAE,iBADmD;AAEzDC,cAAY,EAAE;AAF2C,CAAD,CAA1D;AAIA,SAASH,gBAAT,EAA2BC,kBAA3B;;AAEA,SAASG,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,WAAOA,KAAK,CAACC,KAAN,CAAY,EAAZ,CAAP;AACD;;AAED,SAAOC,SAAP;AACD;;AAED,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACjC,MAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpBA,SAAK,GAAG,EAAR;AACD;;AAED,MAAI;AACFC,aADE;AAEFL,SAFE;AAGFM,gBAHE;AAIFC,YAAQ,EAAEC,SAJR;AAKFC,cALE;AAMFC,eAAW,GAAG,GANZ;AAOFC,eAAW,GAAG,IAPZ;AAQFC,MAAE,EAAEC,MARF;AASFC,cATE;AAUFC;AAVE,MAWAX,KAXJ;AAYA,MAAIY,IAAI,GAAG9B,KAAK,EAAhB;AACA,MAAI0B,EAAE,GAAGC,MAAM,IAAI,IAAV,GAAiBA,MAAjB,GAA0B,eAAeG,IAAlD;AACA,MAAIC,UAAU,GAAGlC,cAAc,EAA/B;AACA,MAAI;AACFmC;AADE,MAEAD,UAFJ;AAGA,MAAI,CAACE,SAAD,EAAYC,YAAZ,IAA4B7B,QAAQ,CAAC,IAAD,CAAxC;AACA,MAAI,CAAC8B,MAAD,EAASC,SAAT,IAAsBrC,oBAAoB,CAAC;AAC7CqB,gBAAY,EAAEP,OAAO,CAACO,YAAD,CAAP,IAAyB,EADM;AAE7CN,SAAK,EAAED,OAAO,CAACC,KAAD,CAF+B;AAG7CO,YAAQ,EAAEc,MAAM,IAAIb,SAAS,IAAI,IAAb,GAAoB,KAAK,CAAzB,GAA6BA,SAAS,CAACa,MAAM,CAACE,IAAP,CAAY,EAAZ,CAAD;AAHb,GAAD,CAA9C;AAKA/B,WAAS,CAAC,MAAM;AACd,QAAIa,SAAJ,EAAe;AACb,UAAImB,mBAAJ;;AAEA,UAAIC,UAAU,GAAGP,WAAW,CAAC,CAAD,CAA5B;AACAO,gBAAU,IAAI,IAAd,GAAqB,KAAK,CAA1B,GAA8B,CAACD,mBAAmB,GAAGC,UAAU,CAACC,OAAlC,KAA8C,IAA9C,GAAqD,KAAK,CAA1D,GAA8DF,mBAAmB,CAACG,KAApB,EAA5F;AACD;AACF,GAPQ,EAON,CAACT,WAAD,EAAcb,SAAd,CAPM,CAAT;AAQA,MAAIuB,SAAS,GAAGlC,WAAW,CAACmC,KAAK,IAAI;AACnC,QAAIC,kBAAJ;;AAEA,QAAI,CAACX,SAAD,IAAc,CAACR,WAAnB,EAAgC;AAChC,QAAIoB,SAAS,GAAGb,WAAW,CAACW,KAAK,GAAG,CAAT,CAA3B;AACAE,aAAS,IAAI,IAAb,GAAoB,KAAK,CAAzB,GAA6B,CAACD,kBAAkB,GAAGC,SAAS,CAACL,OAAhC,KAA4C,IAA5C,GAAmD,KAAK,CAAxD,GAA4DI,kBAAkB,CAACH,KAAnB,EAAzF;AACD,GAN0B,EAMxB,CAACT,WAAD,EAAcC,SAAd,EAAyBR,WAAzB,CANwB,CAA3B;AAOA,MAAIqB,QAAQ,GAAGtC,WAAW,CAAC,CAACM,KAAD,EAAQ6B,KAAR,KAAkB;AAC3C,QAAII,UAAU,GAAG,CAAC,GAAGZ,MAAJ,CAAjB;AACAY,cAAU,CAACJ,KAAD,CAAV,GAAoB7B,KAApB;AACAsB,aAAS,CAACW,UAAD,CAAT,CAH2C,CAGpB;;AAEvB,QAAIJ,KAAK,KAAKX,WAAW,CAAC/C,MAAZ,GAAqB,CAAnC,EAAsC;AACpCsC,gBAAU,IAAI,IAAd,GAAqB,KAAK,CAA1B,GAA8BA,UAAU,CAACwB,UAAU,CAACV,IAAX,CAAgB,EAAhB,CAAD,CAAxC;AACD,KAFD,MAEO;AACLK,eAAS,CAACC,KAAD,CAAT;AACD;AACF,GAVyB,EAUvB,CAACR,MAAD,EAASC,SAAT,EAAoBM,SAApB,EAA+BnB,UAA/B,EAA2CS,WAAW,CAAC/C,MAAvD,CAVuB,CAA1B;AAWA,MAAI+D,KAAK,GAAGxC,WAAW,CAAC,MAAM;AAC5B,QAAIyC,oBAAJ;;AAEA,QAAId,MAAM,GAAGe,KAAK,CAAClB,WAAW,CAAC/C,MAAb,CAAL,CAA0BkE,IAA1B,CAA+B,EAA/B,CAAb;AACAf,aAAS,CAACD,MAAD,CAAT;AACA,QAAII,UAAU,GAAGP,WAAW,CAAC,CAAD,CAA5B;AACA,KAACiB,oBAAoB,GAAGV,UAAU,CAACC,OAAnC,KAA+C,IAA/C,GAAsD,KAAK,CAA3D,GAA+DS,oBAAoB,CAACR,KAArB,EAA/D;AACD,GAPsB,EAOpB,CAACT,WAAD,EAAcI,SAAd,CAPoB,CAAvB;AAQA,SAAO;AACLV,MADK;AAELK,cAFK;AAGLe,YAHK;AAILX,UAJK;AAKLC,aALK;AAMLF,gBANK;AAOLc,SAPK;AAQLzB,cARK;AASLC,eATK;AAULC,eAVK;AAWLG,cAXK;AAYLC;AAZK,GAAP;AAcD;AACD,OAAO,SAASuB,gBAAT,CAA0BlC,KAA1B,EAAiC;AACtC,MAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpBA,SAAK,GAAG,EAAR;AACD;;AAED,MAAI;AACFmC,OAAG,EAAEC;AADH,MAEApC,KAFJ;AAAA,MAGIqC,IAAI,GAAG/D,6BAA6B,CAAC0B,KAAD,EAAQ,CAAC,KAAD,CAAR,CAHxC;;AAKA,MAAImC,GAAG,GAAG9C,MAAM,CAAC,IAAD,CAAhB;AACA,MAAI;AACFmB,MADE;AAEFE,cAFE;AAGFC,aAHE;AAIFiB,YAJE;AAKFX,UALE;AAMFD,gBANE;AAOFE,aAPE;AAQFL,cARE;AASFP,eATE;AAUFC;AAVE,MAWAf,kBAAkB,EAXtB;AAYA,MAAI;AACFsB;AADE,MAEAD,UAFJ;AAGA,MAAIY,KAAK,GAAG7C,aAAa,CAAC;AACxB0D,WAAO,EAAEzB,UADe;AAExBS,WAAO,EAAEa,GAAG,CAACI;AAFW,GAAD,CAAzB;AAIA,MAAIC,YAAY,GAAGlD,WAAW,CAAC,CAACmD,YAAD,EAAeC,UAAf,KAA8B;AAC3D,QAAIC,SAAS,GAAGD,UAAhB;;AAEA,QAAID,YAAY,IAAIA,YAAY,CAAC1E,MAAb,GAAsB,CAA1C,EAA6C;AAC3C,UAAI,CAAC6E,UAAD,EAAaC,WAAb,IAA4BH,UAAhC;;AAEA,UAAID,YAAY,CAAC,CAAD,CAAZ,KAAoBG,UAAxB,EAAoC;AAClCD,iBAAS,GAAGE,WAAZ;AACD,OAFD,MAEO,IAAIJ,YAAY,CAAC,CAAD,CAAZ,KAAoBI,WAAxB,EAAqC;AAC1CF,iBAAS,GAAGC,UAAZ;AACD;AACF;;AAED,WAAOD,SAAP;AACD,GAd6B,EAc3B,EAd2B,CAA9B,CA9BsC,CA4C9B;;AAER,MAAIxC,QAAQ,GAAGb,WAAW,CAACwD,KAAK,IAAI;AAClC,QAAIJ,UAAU,GAAGI,KAAK,CAAClF,MAAN,CAAagC,KAA9B;AACA,QAAI6C,YAAY,GAAGxB,MAAM,CAACQ,KAAD,CAAzB;AACA,QAAIkB,SAAS,GAAGH,YAAY,CAACC,YAAD,EAAeC,UAAf,CAA5B,CAHkC,CAGsB;;AAExD,QAAIC,SAAS,KAAK,EAAlB,EAAsB;AACpBf,cAAQ,CAAC,EAAD,EAAKH,KAAL,CAAR;AACA;AACD,KARiC,CAQhC;;;AAGF,QAAIiB,UAAU,CAAC3E,MAAX,GAAoB,CAAxB,EAA2B;AACzB;AACA,UAAI2E,UAAU,CAACK,KAAX,CAAiB,UAAjB,CAAJ,EAAkC;AAChC,YAAI;AACFhF;AADE,YAEA+C,WAFJ,CADgC,CAGf;;AAEjB,YAAIkC,UAAU,GAAGN,UAAU,CAAC7C,KAAX,CAAiB,EAAjB,EAAqBoD,MAArB,CAA4B,CAACC,CAAD,EAAIrF,CAAJ,KAAUA,CAAC,GAAGE,MAA1C,CAAjB;;AAEAmD,iBAAS,CAAC8B,UAAD,CAAT;AACD;;AAED;AACD,KAxBiC,CAwBhC;;;AAGF,QAAIL,SAAS,CAACI,KAAV,CAAgB,SAAhB,CAAJ,EAAgC;AAC9BnB,cAAQ,CAACe,SAAD,EAAYlB,KAAZ,CAAR;AACD;;AAEDT,gBAAY,CAAC,IAAD,CAAZ;AACD,GAhCyB,EAgCvB,CAACC,MAAD,EAASQ,KAAT,EAAgBe,YAAhB,EAA8BxB,YAA9B,EAA4CY,QAA5C,EAAsDd,WAAW,CAAC/C,MAAlE,EAA0EmD,SAA1E,CAhCuB,CAA1B;AAiCA,MAAIiC,SAAS,GAAG7D,WAAW,CAACwD,KAAK,IAAI;AACnC,QAAIA,KAAK,CAAC7E,GAAN,KAAc,WAAd,IAA6BsC,WAAjC,EAA8C;AAC5C,UAAIuC,KAAK,CAAClF,MAAN,CAAagC,KAAb,KAAuB,EAA3B,EAA+B;AAC7B,YAAIwD,SAAS,GAAGtC,WAAW,CAACW,KAAK,GAAG,CAAT,CAA3B;;AAEA,YAAI2B,SAAJ,EAAe;AACb,cAAIC,kBAAJ;;AAEAzB,kBAAQ,CAAC,EAAD,EAAKH,KAAK,GAAG,CAAb,CAAR;AACA,WAAC4B,kBAAkB,GAAGD,SAAS,CAAC9B,OAAhC,KAA4C,IAA5C,GAAmD,KAAK,CAAxD,GAA4D+B,kBAAkB,CAAC9B,KAAnB,EAA5D;AACAP,sBAAY,CAAC,IAAD,CAAZ;AACD;AACF,OAVD,MAUO;AACLA,oBAAY,CAAC,KAAD,CAAZ;AACD;AACF;AACF,GAhB0B,EAgBxB,CAACF,WAAD,EAAcW,KAAd,EAAqBG,QAArB,EAA+BZ,YAA/B,EAA6CT,WAA7C,CAhBwB,CAA3B;AAiBA,MAAI,CAAC+C,QAAD,EAAWC,WAAX,IAA0BpE,QAAQ,CAAC,KAAD,CAAtC;AACA,MAAIqE,OAAO,GAAGlE,WAAW,CAAC,MAAM;AAC9BiE,eAAW,CAAC,IAAD,CAAX;AACD,GAFwB,EAEtB,EAFsB,CAAzB;AAGA,MAAIE,MAAM,GAAGnE,WAAW,CAAC,MAAM;AAC7BiE,eAAW,CAAC,KAAD,CAAX;AACD,GAFuB,EAErB,EAFqB,CAAxB;AAGA,SAAO9F,QAAQ,CAAC,EAAD,EAAK4E,IAAL,EAAW;AACxB7B,MAAE,EAAEA,EAAE,GAAG,GAAL,GAAWiB,KADS;AAExBiC,YAAQ,EAAEhD,UAFc;AAGxB,oBAAgBxB,QAAQ,CAACyB,SAAD,CAHA;AAIxBwB,OAAG,EAAEpD,SAAS,CAACoD,GAAD,EAAMC,YAAN,CAJU;AAKxBjC,YAAQ,EAAEnB,eAAe,CAACqD,IAAI,CAAClC,QAAN,EAAgBA,QAAhB,CALD;AAMxBgD,aAAS,EAAEnE,eAAe,CAACqD,IAAI,CAACc,SAAN,EAAiBA,SAAjB,CANF;AAOxBK,WAAO,EAAExE,eAAe,CAACqD,IAAI,CAACmB,OAAN,EAAeA,OAAf,CAPA;AAQxBC,UAAM,EAAEzE,eAAe,CAACqD,IAAI,CAACoB,MAAN,EAAcA,MAAd,CARC;AASxB7D,SAAK,EAAEqB,MAAM,CAACQ,KAAD,CAAN,IAAiB,EATA;AAUxBkC,aAAS,EAAE,SAVa;AAWxB,kBAActB,IAAI,CAAC,YAAD,CAAJ,IAAsB,4BAXZ;AAYxBuB,gBAAY,EAAE,aAZU;AAaxBtD,eAAW,EAAEgD,QAAQ,GAAG,EAAH,GAAQhD;AAbL,GAAX,CAAf;AAeD","names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","useDescendants","useDescendant","useControllableState","useId","mergeRefs","callAllHandlers","createContext","ariaAttr","useState","useEffect","useRef","useCallback","PinInputProvider","usePinInputContext","name","errorMessage","toArray","value","split","undefined","usePinInput","props","autoFocus","defaultValue","onChange","_onChange","onComplete","placeholder","manageFocus","id","idProp","isDisabled","isInvalid","uuid","domContext","descendants","moveFocus","setMoveFocus","values","setValues","join","_firstInput$element","firstInput","element","focus","focusNext","index","_nextInput$element","nextInput","setValue","nextValues","clear","_firstInput$element2","Array","fill","usePinInputField","ref","forwardedRef","rest","context","current","getNextValue","currentValue","eventValue","nextValue","firstValue","secondValue","event","match","_nextValue","filter","_","onKeyDown","prevInput","_prevInput$element","hasFocus","setHasFocus","onFocus","onBlur","disabled","inputMode","autoComplete"],"sources":["D:/work/projects/plenty/falcon-heavy-frontend/node_modules/@chakra-ui/pin-input/dist/esm/use-pin-input.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { useDescendants, useDescendant } from \"@chakra-ui/descendant\";\nimport { useControllableState, useId } from \"@chakra-ui/hooks\";\nimport { mergeRefs, callAllHandlers, createContext, ariaAttr } from \"@chakra-ui/utils\";\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nvar [PinInputProvider, usePinInputContext] = createContext({\n  name: \"PinInputContext\",\n  errorMessage: \"usePinInputContext: `context` is undefined. Seems you forgot to all pin input fields within `<PinInput />`\"\n});\nexport { PinInputProvider, usePinInputContext };\n\nfunction toArray(value) {\n  if (typeof value === \"string\") {\n    return value.split(\"\");\n  }\n\n  return undefined;\n}\n\nexport function usePinInput(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var {\n    autoFocus,\n    value,\n    defaultValue,\n    onChange: _onChange,\n    onComplete,\n    placeholder = \"○\",\n    manageFocus = true,\n    id: idProp,\n    isDisabled,\n    isInvalid\n  } = props;\n  var uuid = useId();\n  var id = idProp != null ? idProp : \"pin-input-\" + uuid;\n  var domContext = useDescendants();\n  var {\n    descendants\n  } = domContext;\n  var [moveFocus, setMoveFocus] = useState(true);\n  var [values, setValues] = useControllableState({\n    defaultValue: toArray(defaultValue) || [],\n    value: toArray(value),\n    onChange: values => _onChange == null ? void 0 : _onChange(values.join(\"\"))\n  });\n  useEffect(() => {\n    if (autoFocus) {\n      var _firstInput$element;\n\n      var firstInput = descendants[0];\n      firstInput == null ? void 0 : (_firstInput$element = firstInput.element) == null ? void 0 : _firstInput$element.focus();\n    }\n  }, [descendants, autoFocus]);\n  var focusNext = useCallback(index => {\n    var _nextInput$element;\n\n    if (!moveFocus || !manageFocus) return;\n    var nextInput = descendants[index + 1];\n    nextInput == null ? void 0 : (_nextInput$element = nextInput.element) == null ? void 0 : _nextInput$element.focus();\n  }, [descendants, moveFocus, manageFocus]);\n  var setValue = useCallback((value, index) => {\n    var nextValues = [...values];\n    nextValues[index] = value;\n    setValues(nextValues); // if we're at the last input, call onComplete (no need to move focus)\n\n    if (index === descendants.length - 1) {\n      onComplete == null ? void 0 : onComplete(nextValues.join(\"\"));\n    } else {\n      focusNext(index);\n    }\n  }, [values, setValues, focusNext, onComplete, descendants.length]);\n  var clear = useCallback(() => {\n    var _firstInput$element2;\n\n    var values = Array(descendants.length).fill(\"\");\n    setValues(values);\n    var firstInput = descendants[0];\n    (_firstInput$element2 = firstInput.element) == null ? void 0 : _firstInput$element2.focus();\n  }, [descendants, setValues]);\n  return {\n    id,\n    domContext,\n    setValue,\n    values,\n    setValues,\n    setMoveFocus,\n    clear,\n    onComplete,\n    placeholder,\n    manageFocus,\n    isDisabled,\n    isInvalid\n  };\n}\nexport function usePinInputField(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var {\n    ref: forwardedRef\n  } = props,\n      rest = _objectWithoutPropertiesLoose(props, [\"ref\"]);\n\n  var ref = useRef(null);\n  var {\n    id,\n    isDisabled,\n    isInvalid,\n    setValue,\n    values,\n    setMoveFocus,\n    setValues,\n    domContext,\n    placeholder,\n    manageFocus\n  } = usePinInputContext();\n  var {\n    descendants\n  } = domContext;\n  var index = useDescendant({\n    context: domContext,\n    element: ref.current\n  });\n  var getNextValue = useCallback((currentValue, eventValue) => {\n    var nextValue = eventValue;\n\n    if (currentValue && currentValue.length > 0) {\n      var [firstValue, secondValue] = eventValue;\n\n      if (currentValue[0] === firstValue) {\n        nextValue = secondValue;\n      } else if (currentValue[0] === secondValue) {\n        nextValue = firstValue;\n      }\n    }\n\n    return nextValue;\n  }, []); // Improved from: https://github.com/uber/baseweb/blob/master/src/pin-code/pin-code.js\n\n  var onChange = useCallback(event => {\n    var eventValue = event.target.value;\n    var currentValue = values[index];\n    var nextValue = getNextValue(currentValue, eventValue); // if the value was removed using backspace\n\n    if (nextValue === \"\") {\n      setValue(\"\", index);\n      return;\n    } // in the case of an autocomplete or copy and paste\n\n\n    if (eventValue.length > 2) {\n      // see if we can use the string to fill out our values\n      if (eventValue.match(/^[0-9]+$/)) {\n        var {\n          length\n        } = descendants; // ensure the value matches the number of inputs\n\n        var _nextValue = eventValue.split(\"\").filter((_, i) => i < length);\n\n        setValues(_nextValue);\n      }\n\n      return;\n    } // only set if the new value is a number\n\n\n    if (nextValue.match(/^[0-9]$/)) {\n      setValue(nextValue, index);\n    }\n\n    setMoveFocus(true);\n  }, [values, index, getNextValue, setMoveFocus, setValue, descendants.length, setValues]);\n  var onKeyDown = useCallback(event => {\n    if (event.key === \"Backspace\" && manageFocus) {\n      if (event.target.value === \"\") {\n        var prevInput = descendants[index - 1];\n\n        if (prevInput) {\n          var _prevInput$element;\n\n          setValue(\"\", index - 1);\n          (_prevInput$element = prevInput.element) == null ? void 0 : _prevInput$element.focus();\n          setMoveFocus(true);\n        }\n      } else {\n        setMoveFocus(false);\n      }\n    }\n  }, [descendants, index, setValue, setMoveFocus, manageFocus]);\n  var [hasFocus, setHasFocus] = useState(false);\n  var onFocus = useCallback(() => {\n    setHasFocus(true);\n  }, []);\n  var onBlur = useCallback(() => {\n    setHasFocus(false);\n  }, []);\n  return _extends({}, rest, {\n    id: id + \"-\" + index,\n    disabled: isDisabled,\n    \"aria-invalid\": ariaAttr(isInvalid),\n    ref: mergeRefs(ref, forwardedRef),\n    onChange: callAllHandlers(rest.onChange, onChange),\n    onKeyDown: callAllHandlers(rest.onKeyDown, onKeyDown),\n    onFocus: callAllHandlers(rest.onFocus, onFocus),\n    onBlur: callAllHandlers(rest.onBlur, onBlur),\n    value: values[index] || \"\",\n    inputMode: \"numeric\",\n    \"aria-label\": rest[\"aria-label\"] || \"Please enter your pin code\",\n    autoComplete: \"not-allowed\",\n    placeholder: hasFocus ? \"\" : placeholder\n  });\n}\n//# sourceMappingURL=use-pin-input.js.map"]},"metadata":{},"sourceType":"module"}