{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback } from \"react\";\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { NETWORK_ADDRESS, BOND_CONTRACT_ADDRESS } from '../../config/index';\nexport default function useBonds() {\n  _s();\n\n  const buyBond = useCallback(async () => {\n    alert('Waiting for back-end');\n    const Tezos = new TezosToolkit(NETWORK_ADDRESS);\n    const contract = await Tezos.wallet.at(BOND_CONTRACT_ADDRESS);\n    const batch = await Tezos.wallet.batch().withContractCall(contract.methods.interact('tezos')).withContractCall(contract.methods.wait([['unit']]));\n    const batchOp = await batch.send();\n    console.log('Operation hash:', batchOp.hash);\n    await batchOp.confirmation();\n  }, []);\n  return {\n    buyBond,\n    VALID_CONTRACT_ADDRESS\n  };\n}\n\n_s(useBonds, \"98EULqhvGbXdXwBWcxxQNfx+sLQ=\");","map":{"version":3,"sources":["D:/work/projects/plenty/falcon-heavy-frontend/src/components/Bonds/hooks.ts"],"names":["useCallback","TezosToolkit","NETWORK_ADDRESS","BOND_CONTRACT_ADDRESS","useBonds","buyBond","alert","Tezos","contract","wallet","at","batch","withContractCall","methods","interact","wait","batchOp","send","console","log","hash","confirmation","VALID_CONTRACT_ADDRESS"],"mappings":";;AAAA,SAASA,WAAT,QAAsC,OAAtC;AAGA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,SAAQC,eAAR,EAAyBC,qBAAzB,QAAqD,oBAArD;AAGA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AAEjC,QAAMC,OAAO,GAAGL,WAAW,CAAC,YAAY;AACpCM,IAAAA,KAAK,CAAC,sBAAD,CAAL;AAEA,UAAMC,KAAK,GAAG,IAAIN,YAAJ,CAAiBC,eAAjB,CAAd;AACA,UAAMM,QAAQ,GAAG,MAAMD,KAAK,CAACE,MAAN,CAAaC,EAAb,CAAgBP,qBAAhB,CAAvB;AACA,UAAMQ,KAAK,GAAG,MAAMJ,KAAK,CAACE,MAAN,CAAaE,KAAb,GACjBC,gBADiB,CACAJ,QAAQ,CAACK,OAAT,CAAiBC,QAAjB,CAA0B,OAA1B,CADA,EAEjBF,gBAFiB,CAEAJ,QAAQ,CAACK,OAAT,CAAiBE,IAAjB,CAAsB,CAAC,CAAC,MAAD,CAAD,CAAtB,CAFA,CAApB;AAIA,UAAMC,OAAO,GAAG,MAAML,KAAK,CAACM,IAAN,EAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,OAAO,CAACI,IAAvC;AACA,UAAMJ,OAAO,CAACK,YAAR,EAAN;AACH,GAZ0B,EAYxB,EAZwB,CAA3B;AAgBA,SAAO;AAAEhB,IAAAA,OAAF;AAAWiB,IAAAA;AAAX,GAAP;AACD;;GAnBuBlB,Q","sourcesContent":["import { useCallback, useState } from \"react\";\nimport { BeaconWallet } from \"@taquito/beacon-wallet\";\n\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { NetworkType, PermissionScope } from \"@airgap/beacon-sdk\";\nimport {NETWORK_ADDRESS, BOND_CONTRACT_ADDRESS} from '../../config/index';\n\n\nexport default function useBonds() {\n\n  const buyBond = useCallback(async () => {\n      alert('Waiting for back-end');\n\n      const Tezos = new TezosToolkit(NETWORK_ADDRESS);\n      const contract = await Tezos.wallet.at(BOND_CONTRACT_ADDRESS);\n      const batch = await Tezos.wallet.batch()\n        .withContractCall(contract.methods.interact('tezos'))\n        .withContractCall(contract.methods.wait([['unit']]));\n\n      const batchOp = await batch.send();\n      console.log('Operation hash:', batchOp.hash);\n      await batchOp.confirmation();\n  }, []);\n\n\n\n  return { buyBond, VALID_CONTRACT_ADDRESS };\n}\n"]},"metadata":{},"sourceType":"module"}